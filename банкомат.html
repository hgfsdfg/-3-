<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="bank.css">


</head>
<body>
    
    <button onclick=" let a = new Bank; a.paymobile()" class="btn" id = "button1" >Заплатить за мобильную связь</button>
    <button   onclick="let b = new Bank; b.cash() "class="btn" id = "button2">Снять наличные</button>
    <button  onclick=" let c = new Bank; c.replenishment ()"class="btn" id = "button3">Пополнить счет</button>
    <button  onclick="let d = new Bank; d.balance () "class="btn" id = "button4">Проверить баланс</button>
    <button  onclick="  let f = new Bank; f. enterTHEpassword()"class="btn" id = "button5">Ввести пароль</button>
    <button  onclick="let g = new Bank; g.changpassword ()  "class="btn" id = "button6">Сменить пароль</button>
    <button  onclick=" let h = new Bank; h.transfMoney()"class="btn" id = "button7">Перевести</button>

    <script>
      class User  {
            constructor (ncard, parol, name, surname) {
           this.ncard=[12345678,12345677,12345666,12345555];
           this.parol=[123456,123455,123444,123333];
           this.name=["misha", "shurik", "jamshut", "ravshan",];
           this.surname=["gaikin", "boltikov", "shurupkin", "makakin"];
           this.money=[10000,6565,5];
            }
        }

    

        let ncard = 0;
        let summC = 0;
        let oplata = false;
        let u = new User()

        class Bank {
  paymobile() {
    {
                alert("Сумма оплаты мобильной связи 770 рублей");
                if(oplata == false){
                    if(summC >= 500){
                        summC -= 500;
                        alert(`Оплата прошла успешно. Баланс:  ${summC}  рублей`)
                        oplata = true;
                    }
                    else{
                        alert(`На счете недостаточно средств! У вас ${summC} рублей,необходимо - 770 рублей`)
                    }
                }
                else{
                    alert("Мы получили вашу оплату!")
                }
  }   
  }
   cash(){
                let summ = prompt("Введите сумму, которую хотите снять");
                if(summC >= summ){
                    summC -= summ;
                    alert(`Вы сняли ${summ}. Остаток на счёте ${summC}. `);
                }
                else{
                    alert("На вашем счёте недостаточно средств.");
                }
            }
         replenishment () {
          let summ = prompt("Введите сумму пополнения");
                summC += Number(summ);
                alert(`Вы пополнили баланс на: ${summ} рублей.На вашем балансе: ${summC}`)
         } 
 balance () {
  alert(`баланс: ${summC.toFixed(1)} рублей  `)
 }  
 enterTHEpassword(){
                let ncard = prompt("Введите номер карты");
                let z=true
                for(let i = 0; i <= u.ncard.length; i++){
                    if(ncard == u.ncard[i]){
                        let password = prompt("Введите пароль");
                        if(password == u.parol[i]){
                        let name = 0;
                            switch(u.ncard[i]){
                                case 784545551 :
                                    break;
                                case 714825936 :
                                    break;
                                case 5555555 :
                                    name = 1;
                                    break;
                                case 78465484 :
                                    name = 2;
                                    break;
                            } 
                            alert(`Вы вошли аккаунт ${u.name[name]}.`)
                            z=false
                            ncard = i;
                            summС = u.money[i];
                        }
                        else{  z=true;
                        }
                      }
                
 }
    if(z == true){
                    alert("Неверная карта или пароль");
                }       
              }
  transfMoney() { 
    let ncard = prompt("На какой счет произвести перевод?");
                for(let i = 0; i <= u.ncard.length; i++){
                    if(ncard == u.ncard[i]){
                        let Money_ = prompt("какую сумму перевести?");
                        console.log(u.money[i])
                        u.money[i] += Number(Money_);
                        console.log(u.money[i])
                        summC -= Money_;
  }
                }
                }
            }
</script>
</body>
</html>